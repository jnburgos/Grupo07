<% if notice %>
<alert class="alert alert-info alert-full" ><%= notice %></alert>
<% end %>

<div class="center-content">
  <h1>
    <%= @show.title %>
    <%- if @show.rating %>
    <% @show.rating + "&#9733;" %>
    <% end -%>
  </h1>
  <p class="show-subtitle">
    <%= @show.genre %> | <%= @show.country %> | <%= @show.language %> | <%= @show.seasons.count %> temporadas
  </p>
  <p class="show-subtitle">
    Actores: <%= @show.actors.map {|a| a.name}.join(", ").strip() %>
  </p>
  <p class="show-subtitle">
    Subtítulos: <%= @show.subtitles %>
  </p>
  
  <%- if user_signed_in? && current_user.shows.include?(@show) %>
  <%= link_to "X Desuscribirme de esta serie", {:controller => "shows", :action => "show", :unsubscribe => "1"}, class: "bright" %>
  <% elsif user_signed_in? %>
  <%= link_to "+ Añadir a mis series", {:controller => "shows", :action => "show", :subscribe => "1"}, class: "bright" %>
  <% end -%>
  <div class="show-image" style="background-image: url(<%= @show.image %>)"></div>
  <section class="grid grid-center">
    <% @show.seasons.each do |season| %>
      <%= link_to season do %>
        <h4>
          <%= season.title %>
          <span><br><%= season.year %></span>
        </h4>
      <% end %>
    <% end %>

    <span style="display:block;clear:both;"></span>
  </section>

  <%- if user_signed_in? && current_user.role == "Admin" %>
  Herramientas de Administrador 
  <%= link_to "+ Agregar Temporada", {:controller => "seasons", :action => "new", :show_id => @show.id}, class: "bright" %> |
  <%= link_to 'Editar Serie', edit_show_path(@show), class: "bright" %> |
  <%= link_to 'Eliminar Serie', @actor, method: :delete, data: { confirm: 'Estás seguro?' }, class: "bright" %>
  <% end -%>
</div>
